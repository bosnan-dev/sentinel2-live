(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();const u=document.getElementById("imageInput"),a=document.getElementById("predictButton"),c=document.getElementById("result"),i=document.getElementById("previewImage"),d=document.querySelector(".file-input-label");a.addEventListener("click",async()=>{const s=u.files[0];if(!s){c.textContent="Por favor seleccione una imagen.";return}const r=new FormData;r.append("file",s);try{c.textContent="Procesando...",a.disabled=!0;const n=await fetch("https://sentinel2test-95df4b7b2017.herokuapp.com//predict",{method:"POST",body:r});if(!n.ok)throw new Error("Network response was not ok");const o=await n.json();c.textContent=`Predicción: ${o.class} (Confidence: ${(o.confidence*100).toFixed(2)}%)`}catch(n){console.error("Error:",n),c.textContent="Ha ocurrido un error durante la predicción."}finally{a.disabled=!1}});u.addEventListener("change",s=>{const r=s.target.files[0];if(r){const n=new FileReader;n.onload=o=>{i.src=o.target.result,i.style.display="block"},n.readAsDataURL(r),d.textContent=r.name}else i.src="",i.style.display="none",d.textContent="Escoge una imagen"});i.style.display="none";
